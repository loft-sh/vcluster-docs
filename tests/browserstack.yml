# BrowserStack SDK Configuration
# Docs: https://www.browserstack.com/docs/automate/playwright/getting-started/nodejs/integrate-your-tests

# Credentials via environment variables: BROWSERSTACK_USERNAME and BROWSERSTACK_ACCESS_KEY

framework: playwright

# 4 platforms - workflow runs them in sequential batches to avoid queue limits
# Firefox dropped: too slow on BrowserStack, tested locally instead
platforms:
  # BATCH 1: Safari/WebKit - newest + one back for WebKit version coverage
  - os: osx
    osVersion: Sequoia
    browserName: playwright-webkit
    browserVersion: latest

  - os: osx
    osVersion: Sonoma
    browserName: playwright-webkit
    browserVersion: latest

  # BATCH 2: Chrome - Windows only (renders consistently across OS)
  - os: Windows
    osVersion: "11"
    browserName: playwright-chromium
    browserVersion: latest

  # BATCH 3: Mobile Safari
  - deviceName: iPhone 15
    osVersion: "17"
    browserName: safari

# BrowserStack Local - enables testing localhost/internal URLs
# Set to true when testing localhost or internal staging environments
browserstackLocal: true

# Project configuration
projectName: vCluster Documentation
buildName: vCluster Docs Integration Tests

# Parallel execution - run 1 test per platform at a time
# Total concurrency = parallelsPerPlatform Ã— number of platforms
# With 4 platforms and parallelsPerPlatform: 1, max 4 concurrent sessions
# Note: Workflow runs browsers in sequential batches to avoid queue limits
parallelsPerPlatform: 1

# Debugging options
debug: true
networkLogs: true
consoleLogs: info
