import Flow, { Step } from "@site/src/components/Flow";
import CodeBlock from "@theme/CodeBlock";

<Flow id="sleep-automatic-cli">
  <Step>
    To configure the platform to put your virtual cluster to sleep after 5 minutes of inactivity, add this to the `vcluster.yaml` for your virtual cluster:
    ```yaml
    external:
      platform:
        autoSleep:
          # in seconds
          afterInactivity: 300
    ```
  </Step>
  <Step>
    <CodeBlock>
      vcluster platform create [vcluster-name] -f vcluster.yaml
    </CodeBlock>
  </Step>
</Flow>

:::info Updating a vCluster instance
If you have already created the vCluster instance and need to change the `vcluster.yaml` values add the `--use` flag
to the `vcluster platform create` command if you used the `platform` driver, or `--upgrade` if
the vCluster instance was created with the `helm` driver.
:::
