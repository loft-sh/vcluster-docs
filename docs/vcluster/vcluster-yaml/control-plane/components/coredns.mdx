---
title: CoreDNS
sidebar_label: coredns
sidebar_position: 3
description: Configuration for CoreDNS.
---

import CoreDNS from '@site/docs/_partials/config/controlPlane/coredns.mdx'

- original docs page: https://www.vcluster.com/docs/networking/coreDNS
- related to networking but a critical component of a typical Kubernetes install. This is how pods & services locate each other by hostnames. Kubernetes is integrated so that it can update DNS records as Pods & Services are created / deleted.
- More information about Kubernetes generated hostnames here: https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/
- One could run kubernetes without DNS, but would need to access everything over IP address, and would need to handle updates after restarts, etc. No one does this.

`coredns.embedded`:
- Embedded CoreDNS original page: https://www.vcluster.com/pro/docs/features/integrated_coredns

`coredns.service`:
- allows customization of the CoreDNS `Service` `spec`, `metadata.labels` and `metadata.annotations`

`coredns.deployment`:
- allows customization of much of the CoreDNS `Deployment` `spec`, `metadata.labels` and `metadata.annotations`
- likely the most used part of this will be the deployment resource requests
- A use case for customizing the deployment is to allow pulling the coredns image from a private registry. See [this issue](https://github.com/loft-sh/vcluster/issues/488) for more detail.

`coredns.overwriteConfig`:
- used to provide a custom [Corefile](https://coredns.io/2017/07/23/corefile-explained/) (CoreDNS configuration)
- previously `coredns.config`
- Still overrides if `coredns.embedded` is true

`coredns.overwriteManifests`:
- previously `coredns.manifests`
- ignored if `coredns.embedded` is used, since there will be no separate CoreDNS deployment
- used to provide custom manifests for the CoreDNS deployment. This is an advanced use case, but allows complete control over the CoreDNS deployment
- when used, `coredns.deployment` is ignored

## Config reference

<CoreDNS/>

