---
title: CoreDNS
sidebar_label: coredns
sidebar_position: 3
description: Configure CoreDNS.
---

import CoreDNS from '@site/docs/_partials/config/controlPlane/coredns.mdx'

## Separate CoreDNS

Each vCluster has its own DNS service (CoreDNS by default) so that pods and services can locate each other by hostnames. The vCluster Syncer ensures that the intuitive naming logic of Kubernetes DNS names for services applies. Users can connect to these DNS names, which map to the IP address of the synchronized services that are present in the host cluster. However, this also means that you can't directly access host services from inside the virtual cluster via DNS. Host cluster pods can only access virtual cluster services by their synced name. 

Customize the CoreDNS deployment if you need to pull the CoreDNS image from a private registry. 

See [DNS for Services and Pods](https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/) for details on Kubernetes DNS.

A normal vCluster deployment consists of two pods per vCluster instance:

- vCluster Pod
  - API server container
  - Syncer container
- CoreDNS Pod

## Integrated CoreDNS

(Pro) The integrated CoreDNS feature lets you run CoreDNS as part of the Syncer, which saves the overhead of an external CoreDNS pod. 

- vCluster Pod
  - API server container
  - Syncer and CoreDNS container

Key benefits to this approach include:

- Avoiding cluster max pods limit
- Optimizing resource allocation

## Config reference

| Deprecated Field | New Field |
| ----------------- | ---------------- |
| `coredns.config` | `coredns.overwriteConfig` |
| `coredns.manifests` | `coredns.overwriteManifests` |


<CoreDNS/>

