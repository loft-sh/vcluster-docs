---
title: Central Admission Control
sidebar_label: centralAdmission
sidebar_class_name: pro
sidebar_position: 5
description: Configuration for ...
---

import AdmissionControl from '@site/docs/_partials/config/policies/centralAdmission.mdx'

`centralAdmission`
- Original issue [ENG-2316](https://linear.app/loft/issue/ENG-2316)
- Added at customer request
- PRO feature only, original documentation is here: https://www.vcluster.com/pro/docs/features/centralized_admission_control
- Typically this is an advanced use case where cluster administrators have a custom stack of rules they would like to be applied to the virtual cluster as well. Examples of validating / mutating webhook based policy engines:
  - OPA
  - Kyverno
  - jsPolicy
- These central admission webhooks are different from the other policies:
  - `LimitRange` and `ResourceQuota` resources are created & enforced on the host cluster, and do not appear in the vCluster as resources
  - Users _could_ define `LimitRange` and `ResourceQuota` resources inside the vCluster, but they have full control over them and can delete them at will
  - Webhooks are different because they need to be configured inside the vCluster in order for them to be called by the vCluster's API server
  - vCluster is rewriting these definitions to point to a proxy for a host cluster service that handles webhook requests. The host may also have webhook configurations that use this service.
  - The user can still install a webhook services / webhook configurations to the virtual cluster outside of this config, but it would be running inside the vCluster like any other workload.

`centralAdmission.validatingWebhooks`:
- this is an array of ValidatingWebhookConfiguration definitions
- Note that this is (I think) the ValidatingWebhookConfiguration definition as it would appear on the host cluster, but it re-written to use a vcluster defined proxy endpoint.
- Once defined, the vCluster's ValidatingWebhookConfiguration is blocked from modification by a special handler that denies all update, patch, and delete requests.

`centralAdmission.mutatingWebhooks`:
- this is an array of MutatingWebhookConfiguration definitions
- Note that this is (I think) the MutatingWebhookConfiguration definition as it would appear on the host cluster, but it re-written to use a vcluster defined proxy endpoint.
- Once defined, the vCluster's ValidatingWebhookConfiguration is blocked from modification by a special handler that denies all update, patch, and delete requests.

## Config reference

<AdmissionControl/>
