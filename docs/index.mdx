---
title: vCluster Docs
slug: /
sidebar_position: 1
hide_table_of_contents: true
displayed_sidebar: null
pagination_next: null
pagination_prev: null
custom_edit_url: null
---

import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import BrowserOnly from '@docusaurus/BrowserOnly';
import React, { useState, useRef, useEffect } from 'react';

export const InlineSearch = () => {
  const [isExpanded, setIsExpanded] = useState(false);
  const [searchQuery, setSearchQuery] = useState('');
  const [debouncedQuery, setDebouncedQuery] = useState('');
  const [isIframeReady, setIsIframeReady] = useState(false);
  const inputRef = useRef(null);
  const iframeRef = useRef(null);
  const debounceTimerRef = useRef(null);
  const dropdownSelections = useRef({});

  useEffect(() => {
    if (isExpanded && inputRef.current) {
      inputRef.current.focus();
    }
  }, [isExpanded]);

  // Debounce search query to avoid iframe reloading on every keystroke
  useEffect(() => {
    if (debounceTimerRef.current) {
      clearTimeout(debounceTimerRef.current);
    }

    debounceTimerRef.current = setTimeout(() => {
      setDebouncedQuery(searchQuery);
    }, 300); // Wait 300ms after user stops typing

    return () => {
      if (debounceTimerRef.current) {
        clearTimeout(debounceTimerRef.current);
      }
    };
  }, [searchQuery]);

  // Handle iframe load event
  const handleIframeLoad = () => {
    // Restore focus to input
    if (inputRef.current) {
      inputRef.current.focus();
    }

    const iframe = iframeRef.current;
    if (!iframe) return;

    try {
      const iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;
      if (!iframeDoc) return;

      // Inject CSS to hide elements - must be very aggressive
      const style = iframeDoc.createElement('style');
      style.textContent = `
        /* Hide announcement bar */
        div[class*="announcementBar"],
        div[class*="AnnouncementBar"],
        [class*="announcementBarContent"] {
          display: none !important;
          visibility: hidden !important;
          height: 0 !important;
          overflow: hidden !important;
        }

        /* Hide navbar completely */
        nav.navbar,
        nav[class*="navbar"],
        header.navbar,
        header[class*="navbar"] {
          display: none !important;
          visibility: hidden !important;
          height: 0 !important;
          overflow: hidden !important;
        }

        /* Hide page title "Search the documentation" */
        .container > h1,
        .container h1:first-of-type,
        .container h1:first-child,
        article > h1,
        article h1:first-of-type,
        article h1:first-child,
        main > h1,
        main h1:first-of-type,
        main h1:first-child {
          display: none !important;
          visibility: hidden !important;
        }

        /* Hide the search input box in iframe - all variations */
        .ais-SearchBox,
        .ais-SearchBox-form,
        .ais-SearchBox-input,
        [class*="SearchBox"],
        [class*="searchBox"],
        input[type="search"],
        form input[placeholder*="search" i],
        form input[placeholder*="type" i] {
          display: none !important;
          visibility: hidden !important;
          height: 0 !important;
          pointer-events: none !important;
        }

        /* Hide footer */
        footer,
        .footer,
        [class*="footer"] {
          display: none !important;
          visibility: hidden !important;
        }

        /* Adjust container padding */
        .container,
        article,
        main {
          padding-top: 1rem !important;
        }
      `;
      iframeDoc.head.appendChild(style);

      // Intercept all link clicks and navigate parent window
      const handleLinkClick = (e) => {
        const link = e.target.closest('a');
        if (link && link.href) {
          e.preventDefault();
          e.stopPropagation();
          window.top.location.href = link.href;
        }
      };

      iframeDoc.addEventListener('click', handleLinkClick, true);

      // Also observe for dynamically added links
      const linkObserver = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          mutation.addedNodes.forEach((node) => {
            if (node.nodeName === 'A') {
              node.addEventListener('click', handleLinkClick, true);
            } else if (node.querySelectorAll) {
              node.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', handleLinkClick, true);
              });
            }
          });
        });
      });

      linkObserver.observe(iframeDoc.body, {
        childList: true,
        subtree: true
      });

      // Initialize and restore dropdown selections before showing iframe
      const initializeDropdowns = () => {
        const selects = iframeDoc.querySelectorAll('select');

        // Check if we have selects with options
        let hasValidSelects = false;
        selects.forEach((select) => {
          if (select.options && select.options.length > 0) {
            hasValidSelects = true;
          }
        });

        if (!hasValidSelects) {
          return false; // Not ready yet
        }

        // Set dropdowns to saved values or default to "Stable"
        selects.forEach((select, idx) => {
          if (!select.options) return;

          // Get the select element's identifier (use index or name/id if available)
          const selectId = select.name || select.id || `select-${idx}`;

          // If we have a saved value, restore it
          if (dropdownSelections.current[selectId]) {
            const savedValue = dropdownSelections.current[selectId];
            select.value = savedValue;
            // Update selectedIndex to match
            for (let i = 0; i < select.options.length; i++) {
              if (select.options[i].value === savedValue) {
                select.selectedIndex = i;
                break;
              }
            }
          } else {
            // First time: find and set to "Stable"
            for (let i = 0; i < select.options.length; i++) {
              const option = select.options[i];
              const label = option.getAttribute('label') || option.text;

              if (label.includes('Stable')) {
                select.value = option.value;
                select.selectedIndex = i;
                dropdownSelections.current[selectId] = option.value;
                break;
              }
            }
          }

          // Trigger events to ensure Algolia picks up the change
          select.dispatchEvent(new Event('change', { bubbles: true }));
          select.dispatchEvent(new Event('input', { bubbles: true }));

          const form = select.closest('form');
          if (form) {
            form.dispatchEvent(new Event('change', { bubbles: true }));
          }

          // Listen for user changes to this dropdown
          select.addEventListener('change', () => {
            dropdownSelections.current[selectId] = select.value;
          });
        });

        return true; // Successfully initialized
      };

      // Wait for dropdowns to initialize before showing iframe
      if (initializeDropdowns()) {
        // Dropdowns initialized successfully, show iframe
        setIsIframeReady(true);
      } else {
        // Watch for select elements to appear
        const selectObserver = new MutationObserver(() => {
          if (initializeDropdowns()) {
            setIsIframeReady(true);
            selectObserver.disconnect();
          }
        });

        selectObserver.observe(iframeDoc.body, {
          childList: true,
          subtree: true
        });
      }
    } catch (e) {
      console.error('Cannot inject styles into iframe:', e);
      // Show iframe anyway even if injection failed
      setIsIframeReady(true);
    }
  };

  // Update iframe src with debounced search query
  const iframeSrc = debouncedQuery ? `/docs/search?q=${encodeURIComponent(debouncedQuery)}` : '/docs/search';

  const handleSearch = (e) => {
    const value = e.target.value;
    setSearchQuery(value);
  };

  return (
    <div style={{maxWidth: '1400px', margin: '0 auto'}}>
      {/* Custom Search Box */}
      <div className="hero-search-wrapper" style={{maxWidth: '700px', margin: '0 auto'}}>
        <div
          style={{
            width: '100%',
            backgroundColor: 'var(--ifm-background-color)',
            border: '2px solid var(--ifm-color-emphasis-300)',
            borderRadius: '12px',
            height: '56px',
            padding: '0 1.5rem',
            display: 'flex',
            alignItems: 'center',
            gap: '0.5rem',
            transition: 'all 0.2s ease',
            boxShadow: isExpanded ? '0 2px 8px rgba(0, 0, 0, 0.1)' : 'none'
          }}
        >
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fillRule="evenodd" strokeLinecap="round" strokeLinejoin="round"></path>
          </svg>
          <input
            ref={inputRef}
            type="text"
            placeholder="Search..."
            value={searchQuery}
            onChange={handleSearch}
            onFocus={() => setIsExpanded(true)}
            style={{
              flex: 1,
              border: 'none',
              outline: 'none',
              fontSize: '1rem',
              backgroundColor: 'transparent',
              color: 'var(--ifm-font-color-base)'
            }}
          />
          {isExpanded && (
            <button
              onClick={() => {
                setIsExpanded(false);
                setSearchQuery('');
                setIsIframeReady(false);
                dropdownSelections.current = {};
              }}
              style={{
                background: 'transparent',
                border: 'none',
                cursor: 'pointer',
                fontSize: '1.2rem',
                color: 'var(--ifm-color-content-secondary)',
                padding: '0'
              }}
            >
              ✕
            </button>
          )}
        </div>
      </div>

      {/* Inline Search Results */}
      {isExpanded && (
        <div
          style={{
            marginTop: '2rem',
            backgroundColor: 'white',
            borderRadius: '12px',
            border: '2px solid var(--ifm-color-emphasis-300)',
            overflow: 'hidden',
            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',
            transition: 'all 0.3s ease',
            height: '700px',
            position: 'relative'
          }}
        >
          {/* Loading indicator while iframe initializes */}
          {!isIframeReady && (
            <div
              style={{
                position: 'absolute',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                backgroundColor: 'white',
                zIndex: 10
              }}
            >
              <div style={{ color: 'var(--ifm-color-content-secondary)' }}>
                Loading search...
              </div>
            </div>
          )}
          <iframe
            ref={iframeRef}
            src={iframeSrc}
            onLoad={handleIframeLoad}
            sandbox="allow-same-origin allow-scripts allow-top-navigation allow-top-navigation-by-user-activation"
            style={{
              width: '100%',
              height: '100%',
              border: 'none',
              visibility: isIframeReady ? 'visible' : 'hidden',
              opacity: isIframeReady ? 1 : 0,
              transition: 'opacity 0.2s ease'
            }}
            title="Search Documentation"
          />
        </div>
      )}
    </div>
  );
};

{/* Centered Hero Section */}
<div style={{textAlign: 'center', maxWidth: '900px', margin: '0 auto 4rem', padding: '2rem 1rem'}}>
  <img src="/docs/media/rebranding/vCluster_horizontal-orange.svg" alt="vCluster" style={{height: '70px', marginBottom: '1.5rem'}} />
  <div style={{fontSize: '1.15rem', lineHeight: '1.6', marginBottom: '2.5rem', color: 'var(--ifm-color-content-secondary)'}}>
    vCluster is an open-source solution that enables teams to run virtual Kubernetes clusters inside existing infrastructure. These virtual clusters are Certified Kubernetes Distributions that provide strong workload isolation while running as nested environments on top of another Kubernetes cluster.
  </div>

  {/* Inline Search with expansion */}
  <BrowserOnly fallback={<div style={{maxWidth: '700px', margin: '0 auto', height: '56px', border: '2px solid var(--ifm-color-emphasis-300)', borderRadius: '12px', display: 'flex', alignItems: 'center', padding: '0 1.5rem', color: 'var(--ifm-color-content-secondary)'}}>
    <svg width="20" height="20" viewBox="0 0 20 20" style={{marginRight: '0.5rem'}}>
      <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fillRule="evenodd" strokeLinecap="round" strokeLinejoin="round"></path>
    </svg>
    Search...
  </div>}>
    {() => <InlineSearch />}
  </BrowserOnly>
</div>

<style dangerouslySetInnerHTML={{__html: `
  .intro-card {
    border: 1px solid #d9d9d9 !important;
    border-radius: 8px !important;
    padding: 2rem !important;
    margin-bottom: 3rem !important;
  }
  .feature-card {
    border: 1px solid var(--ifm-color-emphasis-300);
    transition: all 0.2s ease;
    display: block;
    text-decoration: none !important;
    color: inherit !important;
  }
  .feature-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border-color: var(--ifm-color-primary);
    text-decoration: none !important;
    color: inherit !important;
  }
`}} />

<div style={{marginBottom: '3rem'}}>
  <div style={{marginBottom: '2.5rem', borderLeft: '4px solid #ff5733', paddingLeft: '1.5rem'}}>
    <div style={{marginBottom: '1.5rem'}}>
      <h2 style={{display: 'inline', marginRight: '1rem'}}>vCluster</h2>
      <span style={{fontSize: '1.05rem', color: 'var(--ifm-color-content-secondary)'}}>
        Creates and manages virtual Kubernetes clusters inside a host Kubernetes cluster.
      </span>
    </div>
    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '1.25rem'}}>
      <Link to="/vcluster/introduction/what-are-virtual-clusters/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>What is vCluster</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Learn about virtual clusters and their benefits.</p>
      </Link>
      <Link to="/vcluster/configure/what-is-vcluster-yaml/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Configure</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Complete configuration reference for virtual clusters.</p>
      </Link>
      <Link to="/vcluster/deploy/control-plane/container/basics/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Deploy</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Deploy virtual clusters with various options.</p>
      </Link>
    </div>
  </div>

  <div style={{marginBottom: '2.5rem', borderLeft: '4px solid #ff5733', paddingLeft: '1.5rem'}}>
    <div style={{marginBottom: '1.5rem'}}>
      <h2 style={{display: 'inline', marginRight: '1rem'}}>vCluster Platform</h2>
      <span style={{fontSize: '1.05rem', color: 'var(--ifm-color-content-secondary)'}}>
        Provides management, access control, and operational features for virtual clusters.
      </span>
    </div>
    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '1.25rem'}}>
      <Link to="/platform/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Get Started</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Quick start guide for vCluster Platform.</p>
      </Link>
      <Link to="/platform/configure/config/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Configure</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Configure Platform settings and options.</p>
      </Link>
      <Link to="/platform/administer/users-permissions/overview/" className="card feature-card" style={{padding: '0.75rem 1rem'}}>
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Administer</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Manage users, teams, and platform operations.</p>
      </Link>
    </div>
  </div>

  <div style={{marginBottom: '2.5rem', borderLeft: '4px solid #0C00FF', paddingLeft: '1.5rem'}}>
    <div style={{marginBottom: '1.5rem'}}>
      <h2 style={{display: 'inline', marginRight: '1rem'}}>vNode</h2>
      <span style={{fontSize: '1.05rem', color: 'var(--ifm-color-content-secondary)'}}>
        Multi-tenancy container runtime with strong isolation using Linux user namespaces.
      </span>
    </div>
    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '1.25rem'}}>
      <a href="https://www.vnode.com/docs/" className="card feature-card" style={{padding: '0.75rem 1rem'}} target="_blank" rel="noopener noreferrer">
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Get Started</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Quick start guide for vNode.</p>
      </a>
      <a href="https://www.vnode.com/docs/configuration/" className="card feature-card" style={{padding: '0.75rem 1rem'}} target="_blank" rel="noopener noreferrer">
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Configure</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>Configure vNode Helm chart values and runtime settings.</p>
      </a>
      <a href="https://www.vnode.com/docs/architecture/" className="card feature-card" style={{padding: '0.75rem 1rem'}} target="_blank" rel="noopener noreferrer">
        <h3 style={{margin: 0, fontSize: '1.1rem'}}>Architecture</h3>
        <p style={{margin: '0.25rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)'}}>vNode sandboxes pods with Linux namespaces.</p>
      </a>
    </div>
  </div>
</div>

<div style={{marginTop: '4rem', marginBottom: '3rem'}}>
  <h2 style={{marginBottom: '2rem'}}>Try vCluster Platform</h2>
  
  <div className="intro-card">
    <p style={{fontSize: '1.1rem', marginBottom: '1.5rem', color: 'var(--ifm-color-content-secondary)'}}>
      Create your own platform instance, connect a host cluster, and deploy virtual clusters. The platform provides centralized management, access control, and operational features for all your virtual clusters.
    </p>
    <a href="https://vcluster.cloud" className="button button--primary" style={{textDecoration: 'none', padding: '0.75rem 1.25rem', fontSize: '1.05rem'}}>Get Started →</a>
  </div>
</div>
