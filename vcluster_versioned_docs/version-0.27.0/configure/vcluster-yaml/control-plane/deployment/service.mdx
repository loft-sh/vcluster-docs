---
title: Service
sidebar_label: service
sidebar_position: 2
sidebar_class_name: host-nodes private-nodes
---

import ControlPlaneService from '../../../../_partials/config/controlPlane/service.mdx'

import TenancySupport from '../../../../_fragments/tenancy-support.mdx';

<TenancySupport hostNodes="true" privateNodes="true" />

This feature defines the Service that backs the control plane's [Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/) resource.

vCluster uses a default Service [spec](https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec) when you don't configure one in `service.spec`. This default spec uses the `service.httpsNodePort` and `service.kubeletNodePort`. If you configure`service.spec`, vCluster ignores `service.httpsNodePort` and `service.kubeletNodePort` values, make sure you configure the ports in your Service spec.

:::note
- `.experimental.isolatedControlPlane.headless` [configuration](../../experimental/isolated-control-plane.mdx) changes the default Service spec to expose the required 8443 `targetPort` for both `https` and `kubelet`.
- `networking.advanced.proxyKubelets.byHostname` or `networking.advanced.proxyKubelets.byIP` [configuration](../../networking/advanced.mdx) changes the default Service spec to expose the `kubelet` port at 10250. 
:::

## Config reference

<ControlPlaneService/>