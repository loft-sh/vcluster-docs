---
title: Deploy with Multi-Namespace Mode
sidebar_label: Multi-Namespace Mode
sidebar_position: 4
---

import HiddenCodeBlock from '@site/src/components/HiddenCodeBlock';

import CertManagerExample from '../../_fragments/cert-manager-example.mdx'
import ProAdmonition from '../../_partials/admonitions/pro-admonition.mdx'
import SingleVsMultiNamespace from '../../_fragments/single-namespace-vs-multi-namespace.mdx'

<figure>
  <img src="/docs/media/diagrams/vcluster-multinamespace-architecture.svg" alt="vcluster Multi-Namespace Architecture" />
  <figcaption>vcluster Multi-Namespace Architecture</figcaption>
</figure>

import MultiNamespaceModeExplanation from '@site/vcluster/_fragments/multi-namespace-mode-explanation.mdx'

<MultiNamespaceModeExplanation />

## Single-Namespace Mode vs Multi-Namespace Mode

<SingleVsMultiNamespace />

## Enable Multi-Namespace-Mode

To enable this mode use the following helm value:

```yaml {"excludeFromRunAll": "true"}
experimental:
  multiNamespaceMode:
    enabled: true
```

:::warning This mode must be enabled during vCluster creation and cannot be changed.
Enabling or disabling it on an existing vCluster instance will lead to an inconsistent state and should be prevented.
:::

:::warning Alpha feature
Multi-namespace mode is currently in an alpha state. This is an advanced feature that requires more permissions in the host cluster, and as a result, it can potentially cause significant disruption in the host cluster.
:::

## Example with syncing Cert-Manager resources

<ProAdmonition/>

<CertManagerExample />

This example will guide you through setting up multi-namespace mode together with [custom resource sync enabled](../../configure/vcluster-yaml/sync/to-host/advanced/custom-resources). Multi-namespace mode will make host cluster CRDs available to underlying virtual clusters and custom resource sync will allow syncing of `Issuer`, `Certificate` and cert-manager managed `Secret` resources between host and virtual cluster.


