---
title: vCluster Platform Management Roles
sidebar_label: Platform 
sidebar_position: 1
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import Flow, { Step } from "@site/src/components/Flow";
import NavStep from "@site/src/components/NavStep";
import Button from "@site/src/components/Button";
import Label from "@site/src/components/Label";

## Roles & Permissions

Roles define what actions users or teams can perform within the platform. Rather than assigning permissions directly to users, the platform uses role templates (`ClusterRoleTemplate` resources) to generate `ClusterRoleBindings` in the appropriate cluster.

### Role Hierarchy

| Role Scope | Permission Scope | Description |
| --- | --- | --- |
| **Global role** | Platform | Applies to resources across the entire platform. |
| **Cluster role** | Cluster | Applies to resources within a specific connected cluster. |
| **Project role** | Project | Applies to resources within a specific project. |
| Virtual Cluster role | Virtual Cluster | Applies to resources within a specific virtual cluster. |

Each role type is generated from predefined templates, but administrators can also define custom role templates to meet unique access requirements.

### Default Roles

The platform includes several pre-defined roles for common access patterns. You can assign these roles to users and teams without creating custom permissions.

| Role Name | Access Description |
| --- | --- |
| **Platform Admin** | Full access to all platform resources. Controls users, teams, clusters, and platform settings. |
| **Project Admin** | Administrative access within one project. Controls all project resources but cannot affect other projects. |
| **Project User** | Limited access to use existing project resources. Cannot create or delete resources. Designed for application developers. |
| **Virtual Cluster Admin** | Full access to resources within a virtual cluster. Cannot modify the virtual cluster itself. |
| **Cluster Admin** | Full access to resources within a host cluster. Controls namespaces and cluster-wide resources. |

The platform includes additional specialized roles for specific use cases. You can create custom roles when default roles do not provide the exact permissions you need.

These roles are applied through `ClusterRoleBindings` in the appropriate cluster type based on the required access scope.

## Users, Teams, and Groups

The platform supports several identity types that can be granted access:

| Identity Type | Description |
| --- | --- |
| **Users** | Individual accounts authenticated through the platform or SSO. |
| **Teams** | Logical groupings of users with shared access policies. |
| **Groups** | Identity provider attributes mapped to teams using SSO integration. |

Administrators can integrate with external identity providers to synchronize users, teams, and group attributes. This simplifies identity management and supports centralized authentication. For more information, see [*SSO configuration*](https://www.notion.so/RBAC-Overview-Overhaul-1b21094080698041ab91dc7fa28bb97a?pvs=21).

## Granting Permissions

Permissions are assigned at different levels depending on what users or teams need access to. The platform creates `ClusterRoleBindings` in the relevant cluster based on the scope of the permission.

### Permission Levels

| Scope | Description |
| --- | --- |
| **Global (Platform-level)** | Permissions across the entire platform, enforced in the local cluster. |
| **Cluster** | Permissions within a specific connected host cluster. |
| **Project** | Permissions tied to a project, enforced in the local cluster. |
| **Virtual Cluster Object** | Permissions to manage the virtual cluster definition (local cluster). |
| **Virtual Cluster Permissions** | Permissions inside the virtual cluster, enforced by the vcluster itself. |

Each permission assignment results in a `ClusterRoleBinding` being created in the appropriate cluster.

## Custom Permissions

### Recommended Approach

For most use cases, we recommend creating custom roles that define the necessary permissions for your users or teams. 

### Advanced Scenarios

Although not recommended, administrators can assign permissions directly to individual resources for maximum granularity. This should be used with caution, as it can introduce significant complexity and increase the potential for misconfiguration.

## Create Management Role

Management Roles can be created in the vCluster Platform UI.

<Flow id="create-management-role">
  <Step>
    In the vCluster Platform UI, select the <NavStep>Users</NavStep> field on the
    left-most menu bar.
  </Step>
  <Step>
    From the User Management pane, click <NavStep>Management Roles</NavStep>{" "}
    button.
  </Step>
  <Step>
    Click the <Button>Create Role</Button> button.
  </Step>
  <Step>
    In the drawer that appears from the right, give your Management Role a name
    by replacing the 'my-role' placeholder name, or by updating the manifest
    YAML 'metadata.name' field.
  </Step>
  <Step>
    On the <Label>Rules</Label> tab, the <Label>RBAC Rules</Label> section
    contains settings relating to the permissions that this role should grant.
    The rules here follow standard Kubernetes RBAC configuration, please see the
    Kubernetes
    [documentation](https://kubernetes.io/docs/reference/access-authn-authz/rbac/)
    for more details.
  </Step>
  <Step>
    On the <Label>Rules</Label> tab, the <Label>Aggregation</Label> section
    allows users to include rules from other ClusterRoles into this role, by
    matching the additional ClusterRoles by label. This is a nice way to
    aggregate multiple smaller roles into a single role that can then be applied
    to users/teams.
  </Step>
  <Step>
    <Label>Access</Label> allows you to define which users and teams have access
    to modify the role you are currently creating.
  </Step>
  <Step>
    Click on the <Button>Save Changes</Button> button.
  </Step>
</Flow>

## Apply Management Role

Management Roles are not very useful if they are not applied to a user or team. Applying a
Management Role can be done via the vCluster Platform UI.

<Tabs
  defaultValue="user"
  values={[
    { label: "User", value: "user" },
    { label: "Team", value: "team" },
  ]}
>
  <TabItem value="user">
    <Flow id="apply-role-user">
      <Step>
        In the vCluster Platform UI, select the <NavStep>Users</NavStep> field on the
        left-most menu bar.
      </Step>
      <Step>
        From the User Management pane, click <NavStep>Users</NavStep> button.
      </Step>
      <Step>
        Find the user you would like to apply a Management Role to from the list
        of users. Click the drop down arrow next to your desired user, and click
        the
        <Label>Edit</Label> button in the drop down menu.
      </Step>
      <Step>
        In the drawer that appears from the right, select the{" "}
        <Label>Advanced Options</Label> configuration tab.
      </Step>
      <Step>
        Click in the <Label>Cluster Roles For User</Label> box, find the role
        you would like to apply to the user and select it. You can add as many
        roles ad you would like from this section.
      </Step>
      <Step>
        Click the <Button>Save Changes</Button> button.
      </Step>
    </Flow>
  </TabItem>
  <TabItem value="team">
    <Flow>
      <Flow id="apply-role-user">
        <Step>
          In the vCluster Platform UI, select the <NavStep>Users</NavStep> field on
          the left-most menu bar.
        </Step>
        <Step>
          From the User Management pane, click <NavStep>Teams</NavStep> button.
        </Step>
        <Step>
          Find the team you would like to apply a Management Role to from the
          list of teams. Click the drop down arrow next to your desired team,
          and click the
          <Label>Edit</Label> button in the drop down menu.
        </Step>
        <Step>
          In the drawer that appears from the right, select the{" "}
          <Label>Advanced Options</Label> configuration tab.
        </Step>
        <Step>
          Click in the <Label>Cluster Roles For Team</Label> box, find the role
          you would like to apply to the team and select it. You can add as many
          roles ad you would like from this section.
        </Step>
        <Step>
          Click the <Button>Save Changes</Button> button.
        </Step>
      </Flow>
    </Flow>
  </TabItem>
</Tabs>
