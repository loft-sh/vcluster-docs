---
title: Networking
sidebar_label: Networking 
description: 
---

vCluster Platform requires specific network ports to be open for communication between Kubernetes clusters, the platform API, and external services. These ports handle API requests, webhook execution, and cost monitoring. If they are blocked by firewall rules, certain features may fail.

## Required open ports  

### Connecting Kubernetes to vCluster Platform  

Kubernetes must be able to communicate with vCluster platform’s API extensions and webhooks.

| Port  | Purpose |  
|-----------|------------|  
| `8443`  | API service extension (`v1.cluster.loft.sh`) |  
| `9443`  | Webhook validation (`loft webhook`) |  
| `9444`  | Management API (`v1.management.loft.sh`) |  


NOTE: In private GKE clusters, Kubernetes control plane and worker nodes might reside in separate subnetworks. You might need a firewall rule to allow traffic on these ports.

### Connect vCluster to Prometheus 

vCluster Platform connects to Prometheus in connected clusters to retrieve cost metrics. If cost metrics are missing, confirm that the vCluster platform can reach Prometheus over `TCP 9090`.

| Port  | Purpose |  
|-----------|------------|  
| `9090`  | Prometheus cost control dashboard metrics |  


## Firewall rules configuration  

If your firewall blocks these ports, you can create rules to allow required traffic.

### Allow Kubernetes to connect to the platform  

```sh
gcloud compute firewall-rules create allow-k8s-api-to-vcluster-platform \
  --allow tcp:8443,tcp:9443,tcp:9444 \
  --source-ranges=<KUBERNETES_API_IP_RANGE> \
  --target-tags=vcluster-platform
```
    - Replace `<KUBERNETES_API_IP_RANGE>` with the actual Kubernetes API IP range.


### Allow the platform to connect to Prometheus

```sh
gcloud compute firewall-rules create allow-vcluster-platform-to-prometheus \
  --allow tcp:9090 \
  --source-ranges=<VCLUSTER_PLATFORM_IP> \
  --target-tags=prometheus
```
    - Replace `<VCLUSTER_PLATFORM_IP>` with the platform instance’s IP.


## Troubleshooting connectivity issues

TBD


