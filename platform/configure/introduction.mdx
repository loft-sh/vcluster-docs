---
title: What is values.yaml?
sidebar_label: What is values.yaml?
sidebar_position: 1
description: Learn how to configure the vCluster Platform, modify its behavior, and enable or disable features such as SSO login, custom branding, and auditing.
---

## Overview
The platform's `values.yaml` file contains multiple configuration sections:

1. **Installation options** - Control how the platform deploys
   - Top-level fields in the `vcluster-platform` chart's `values.yaml`.
   - Located in the platform Helm chart ([loft-sh/loft](https://github.com/loft-sh/loft/tree/master/chart)).
   - Examples: `replicaCount`, `resources`, `ingress`, `persistence`, etc.
   - These configure Kubernetes deployment aspects like resources and replicas.

<!-- vale off -->
2. **Platform configs** - Control how the platform functions after deployment.
   - These are grouped under the `config:` section of the `vcluster-platform` chart's `values.yaml`.
   - Located in the platform Helm chart ([loft-sh/loft](https://github.com/loft-sh/loft/tree/master/chart)).
   - Examples: `config.auth`, `config.audit`, `config.loftHost`.
   - You can also manage these through the UI in **Admin > Config**.
<!-- vale on -->

3. **Agent settings** - Control how the platform agent operates in connected clusters
   - Set through the top-level `agentValues:` section of the `vcluster-platform` chart
   - Located in the platform Helm chart ([loft-sh/loft](https://github.com/loft-sh/loft/tree/master/chart))
   - You can [override](#understanding-agent-values) these per-cluster with annotations

The following example is of a platform `values.yaml` file showing the configuration sections:

```yaml title="Example platform values.yaml with all configuration sections"

# Installation options (top-level)
replicaCount: 2
resources:
  requests:
    memory: 512Mi
    cpu: 400m

admin:
  create: true
  username: my-admin-user
  password: my-secure-password

ingress:
  enabled: true
  host: platform.example.com

# Platform configs (inside config section)
config:
  loftHost: platform.example.com
  audit:
    enabled: true
  auth:
    github:
      clientId: $CLIENT_ID

# Agent settings (top-level)
agentValues:
  resources:
    requests:
      memory: 256Mi
  # Security contexts for agent pods
  securityContext:
    runAsNonRoot: true
    runAsUser: 1001
  podSecurityContext:
    fsGroup: 2001
```



## Common configuration fields {#common-configuration-tasks}

For common tasks, configure the following:

| Task | Configuration location | Example |
|------|------------------------|---------|
| Setting admin credentials | `admin:` section (root level) | `admin.username`, `admin.password` |
| Configuring replicas for HA | `replicaCount:` setting (root level) | `replicaCount: 2` |
| Setting up ingress | `ingress:` section (root level) | `ingress.enabled: true` |
| Setting resource limits | `resources:` section (root level) | `resources.limits.memory` |
| Configuring auth providers | `config.auth:` section | `config.auth.github` |
| Setting custom domain | `config:` section | `config.loftHost` |

## Apply configuration {#applying-configuration}

<!-- vale off -->
There are two ways to apply the platform configuration:
- Through `helm` values when installing or upgrading the platform.
- Through the vCluster Platform UI in **Admin > Config** after installation. This is only for platform configs.
<!-- vale on -->

Using `helm` values allows you to manage configuration declaratively and enables deployment through [GitOps solutions](../install/gitops) such as ArgoCD. Here's an example of applying platform configuration with `helm`:

```bash title="Apply platform configuration using Helm"
RELEASE_NAME=vcluster-platform
RELEASE_NAMESPACE=vcluster-platform
PLATFORM_VERSION='' # Set this to a specific version or leave empty for latest

helm upgrade $RELEASE_NAME vcluster-platform \
  --install \
  --repo https://charts.loft.sh/ \
  --namespace $RELEASE_NAMESPACE \
  --create-namespace \
  --values values.yaml \
  ${PLATFORM_VERSION:+--version $PLATFORM_VERSION}
```
