import Flow, { Step } from '@site/src/components/Flow'
import NavStep from '@site/src/components/NavStep'
import Button from '@site/src/components/Button'
import Label from '@site/src/components/Label'
import Input from '@site/src/components/Input'
import Expander from '@site/src/components/Expander'


<Flow id="upgrade-cluster-cli">
    <Step>
        You can verify that the [vCluster Platform Agent](/docs/platform/administer/clusters/advanced/agent-config) is installed in the cluster by running:

        ```bash
        vcluster platform list clusters
        ```
        
        The expected output would be:
        
        ```bash
                CLUSTER      |  AGE
        --------------------+--------
            cluster-name      |  7s
        ```
        
        In this example, the host cluster where the platform agent is installed is named `cluster-name`.
    </Step>
    <Step>
        By providing the Helm chart version and values configuration, you can install or upgrade the existing platform agent deployment for the `cluster-name` cluster using:
        
        ```
        vcluster platform add cluster cluster-name \
            --helm-chart-version v4.5 \
            --helm-values my-helm-values \
            --context cluster-name-context
        ```
        
        Choose the appropriate version in `--helm-chart-version` and Helm chart configuration in `--helm-values`. Replace `--context` with the Kubernetes context of your target cluster. 
        If you are already operating within that cluster’s context, you can omit the --context flag — the command will automatically install or upgrade the platform agent in the current cluster.
        You can find more details about the available flags for the `vcluster platform add cluster` command in the [CLI documentation](/docs/vcluster/cli/vcluster_platform_add_cluster).
    </Step>
</Flow>