import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

## Upgrade the platform

:::info Upgrade considerations
- Review the release notes for the target version to understand any breaking changes or new features.
- Test the upgrade in a non-production environment before applying it to your production setup.
:::

Upgrade the platform via:

<Tabs
  defaultValue="cli"
  values={[
    { label: 'CLI', value: 'cli', },
    { label: 'Helm', value: 'helm', },
  ]
}>
<TabItem value="cli">

To upgrade the platform using the `vcluster` CLI, update `$PLATFORM_VERSION` with a valid platform version and run:

```bash title="Upgrade the platform using vCluster CLI"
RELEASE_NAMESPACE=vcluster-platform # Replace with the namespace of the platform deployment if different
PLATFORM_VERSION='' # Set this to a specific version or leave empty for latest

vcluster platform start --upgrade --version=$PLATFORM_VERSION --namespace=$RELEASE_NAMESPACE --values=vcluster-platform.yaml
```

</TabItem>
<TabItem value="helm">

To upgrade the platform using `helm`, update `$PLATFORM_VERSION` with a valid platform version and run:

```bash title="Upgrade the platform using helm"
RELEASE_NAME=vcluster-platform # Replace with the release name if different
RELEASE_NAMESPACE=vcluster-platform # Replace with the namespace of the platform deployment if different
PLATFORM_VERSION='' # Set this to a specific version or leave empty for latest

helm upgrade $RELEASE_NAME vcluster-platform -n $RELEASE_NAMESPACE --repository-config '' --repo https://charts.loft.sh \
  --version $PLATFORM_VERSION \
  --reuse-values \
  -f vcluster-platform.yaml
```

</TabItem>
</Tabs>
