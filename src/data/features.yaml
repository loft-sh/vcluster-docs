# features.yaml - Feature definitions with metadata
#
# This file contains detailed information about each vCluster feature.
# Feature IDs (keys) are referenced by products.yaml.
# Used by the FeatureTable component to display feature information in docs.

features:
  # ============================================================================
  # OSS Features
  # ============================================================================

  virtual-clusters:
    name: "Virtual Kubernetes Clusters"
    description: "Run multiple isolated Kubernetes environments within a single cluster"
    category: "Core"
    docs_url: "/docs/vcluster/understand/architecture"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  resource-syncing:
    name: "Resource Syncing"
    description: "Sync pods, services, configmaps, secrets, ingresses, PVCs, storage classes, and other core resources between host and virtual cluster"
    category: "Core"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sync"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  multi-namespace-mode:
    name: "Multi-Namespace Mode"
    description: "Support for multi-namespace workloads in virtual clusters"
    category: "Core"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/experimental/multi-namespace-mode"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared"]

  pod-security-standards:
    name: "Pod Security Standards"
    description: "Enforce pod security standards for workload isolation and compliance"
    category: "Security"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/policies/pod-security-standard"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  network-policies:
    name: "Network Policies"
    description: "Control network traffic between pods and namespaces"
    category: "Networking"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/policies/network-policy"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  resource-quotas:
    name: "Resource Quotas"
    description: "Limit resource consumption within virtual clusters"
    category: "Resource Management"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/policies/resource-quota"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  limit-ranges:
    name: "Limit Ranges"
    description: "Set default resource limits and requests for containers"
    category: "Resource Management"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/policies/limit-range"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  metrics-server:
    name: "Metrics Server"
    description: "Cluster metrics for horizontal pod autoscaling and resource monitoring"
    category: "Observability"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/integrations/metricsServer"
    enterprise_only: false
    feature_type: "oss"
    tenancy:
      models: ["shared", "private", "standalone"]

  # ============================================================================
  # Free Tier Features (Requires Platform Connection)
  # ============================================================================

  auto-delete:
    name: "Auto Delete"
    description: "Automatically delete idle virtual clusters after period of inactivity"
    category: "Cost Optimization"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/external/platform/auto-delete"
    enterprise_only: true
    feature_type: "free"
    tenancy:
      models: ["shared", "private", "standalone"]

  # ============================================================================
  # Paid Features (Enterprise/Pro)
  # ============================================================================

  embedded-etcd:
    name: "Embedded etcd"
    description: "Embedded etcd for reduced footprint and HA scenarios"
    category: "Backing Store"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/control-plane/components/backing-store/etcd/embedded"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared"]

  external-database:
    name: "External Database"
    description: "Use external PostgreSQL or MySQL as the backing store"
    category: "Backing Store"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/control-plane/components/backing-store/database/external"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared", "standalone"]

  high-availability:
    name: "High Availability"
    description: "Multiple replicas with automatic failover for production workloads"
    category: "Reliability"
    docs_url: "/docs/vcluster/deploy/control-plane/container/high-availability"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared"]

  sleep-mode:
    name: "Sleep Mode"
    description: "Automatic scaling based on activity and schedules to reduce costs"
    category: "Cost Optimization"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sleep-mode"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared", "private"]

  fips-mode:
    name: "FIPS 140-2 Compliance"
    description: "Federal Information Processing Standards compliance for security"
    category: "Security"
    docs_url: "/docs/vcluster/deploy/control-plane/container/security/fips"
    enterprise_only: true
    feature_type: "paid"

  air-gapped-deployment:
    name: "Air-Gapped Deployments"
    description: "Deploy vCluster without internet connectivity"
    category: "Security"
    docs_url: "/docs/vcluster/deploy/control-plane/container/security/air-gapped"
    enterprise_only: true
    feature_type: "paid"

  admission-control-policies:
    name: "Admission Control Policies"
    description: "Fine-grained access control and resource validation"
    category: "Security"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/policies/admission-control"
    enterprise_only: true
    feature_type: "paid"

  private-nodes:
    name: "Private Nodes"
    description: "Dedicated worker nodes for complete workload isolation"
    category: "Worker Nodes"
    docs_url: "/docs/vcluster/deploy/worker-nodes/private-nodes"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["private", "standalone"]

  auto-nodes:
    name: "Auto Nodes"
    description: "Automatic node provisioning and lifecycle management"
    category: "Automation"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/private-nodes/auto-nodes"
    enterprise_only: true
    feature_type: "paid"

  namespace-syncing:
    name: "Namespace Syncing"
    description: "Sync entire namespaces between host and virtual cluster"
    category: "Advanced Syncing"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sync/to-host/advanced/namespaces"
    enterprise_only: true
    feature_type: "paid"

  custom-resource-syncing:
    name: "Custom Resource Syncing"
    description: "Sync custom resources (CRDs) between host and virtual cluster"
    category: "Advanced Syncing"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sync/to-host/advanced/custom-resources"
    enterprise_only: true
    feature_type: "paid"

  hybrid-scheduling:
    name: "Hybrid Scheduling"
    description: "Advanced pod scheduling strategies for mixed workloads"
    category: "Scheduling"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sync/to-host/core/pods/hybrid-scheduling"
    enterprise_only: true
    feature_type: "paid"

  cert-manager-integration:
    name: "Cert-Manager Integration"
    description: "Automated certificate management and issuance"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/certManager"
    enterprise_only: true
    feature_type: "paid"

  external-secrets-operator:
    name: "External Secrets Operator"
    description: "Integration with external secrets management systems"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/external-secrets-operator"
    enterprise_only: true
    feature_type: "paid"

  istio-integration:
    name: "Istio Integration"
    description: "Service mesh capabilities with Istio"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/istio"
    enterprise_only: true
    feature_type: "paid"

  kubevirt-integration:
    name: "KubeVirt Integration"
    description: "Run virtual machine workloads alongside containers"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/kubevirt"
    enterprise_only: true
    feature_type: "paid"

  netris-integration:
    name: "Netris Integration"
    description: "Advanced networking capabilities with Netris"
    category: "Integrations"
    docs_url: "/docs/vcluster/third-party-integrations/netris"
    enterprise_only: true
    feature_type: "paid"

  workload-identity:
    name: "Cloud Workload Identity"
    description: "EKS Pod Identity, GKE Workload Identity, and AKS Workload Identity support"
    category: "Integrations"
    docs_url: "/docs/vcluster/third-party-integrations/pod-identity"
    enterprise_only: true
    feature_type: "paid"

  dns-resolution-advanced:
    name: "Advanced DNS Resolution"
    description: "Custom DNS resolution and domain mapping"
    category: "Networking"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/networking/resolve-dns"
    enterprise_only: true
    feature_type: "paid"

  coredns-advanced:
    name: "CoreDNS Configuration"
    description: "Advanced CoreDNS configuration options"
    category: "Networking"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/control-plane/components/coredns"
    enterprise_only: true
    feature_type: "paid"

  platform-integration:
    name: "vCluster Platform Integration"
    description: "Connect to vCluster Platform for centralized management"
    category: "Platform"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/external/platform"
    enterprise_only: true
    feature_type: "free"
    tenancy:
      models: ["shared", "private", "standalone"]

  host-path-mapper:
    name: "HostPath Mapper"
    description: "Map virtual pod and container names to physical names for log collection"
    category: "Observability"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/control-plane/components/host-path-mapper"
    enterprise_only: true
    feature_type: "paid"

  sync-from-host-custom-resources:
    name: "Sync CRs from Host"
    description: "Sync custom resources from host cluster to virtual cluster (read-only)"
    category: "Advanced Syncing"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/sync/from-host/custom-resources"
    enterprise_only: true
    feature_type: "paid"

  deny-proxy-requests:
    name: "Deny Proxy Requests"
    description: "Validate and deny specific requests in the vCluster proxy (experimental)"
    category: "Security"
    docs_url: "/docs/vcluster/configure/vcluster-yaml/experimental/deny-proxy-requests"
    enterprise_only: true
    feature_type: "paid"

  # ============================================================================
  # Additional Paid Features
  # ============================================================================

  argocd-integration:
    name: "Argo CD Integration"
    description: "Automated import of virtual clusters as deployment targets in Argo CD"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/argocd"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared", "private", "standalone"]

  vault-integration:
    name: "HashiCorp Vault Integration"
    description: "Retrieve, distribute, and rotate secrets from HashiCorp Vault"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/vault"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared", "private", "standalone"]

  rancher-integration:
    name: "Rancher Integration"
    description: "Manage vCluster inside Rancher with permission and user sync"
    category: "Integrations"
    docs_url: "/docs/vcluster/integrations/rancher"
    enterprise_only: true
    feature_type: "paid"
    tenancy:
      models: ["shared", "private"]

  template-versioning:
    name: "Template Versioning"
    description: "Version control for vCluster templates and configurations"
    category: "Platform"
    enterprise_only: true
    feature_type: "paid"

  audit-logging:
    name: "Audit Logging"
    description: "Central log of all user interactions with virtual clusters and platform"
    category: "Security"
    enterprise_only: true
    feature_type: "paid"

  custom-dns:
    name: "Custom DNS Entries"
    description: "Define custom DNS configurations for internal and external resolution"
    category: "Networking"
    enterprise_only: true
    feature_type: "paid"

  sync-patches:
    name: "Sync Patches"
    description: "Apply custom patches to objects during sync process"
    category: "Advanced Syncing"
    enterprise_only: true
    feature_type: "paid"

  quotas:
    name: "Resource Quotas"
    description: "Configure resource limits for users and teams within projects"
    category: "Platform"
    enterprise_only: true
    feature_type: "paid"

  external-db-connector:
    name: "External Database Connector"
    description: "Automated provisioning and cleanup of external databases"
    category: "Backing Store"
    enterprise_only: true
    feature_type: "paid"

  sso:
    name: "Single Sign-On (SSO)"
    description: "Central authentication via SAML2, OIDC, LDAP, OAuth, GitHub, GitLab"
    category: "Security"
    enterprise_only: true
    feature_type: "paid"

  multiple-sso:
    name: "Multiple SSO Providers"
    description: "Support for multiple SSO providers simultaneously"
    category: "Security"
    enterprise_only: true
    feature_type: "paid"

  platform-oidc-provider:
    name: "Platform as OIDC Provider"
    description: "Connect other systems to Platform SSO via OIDC"
    category: "Security"
    enterprise_only: true
    feature_type: "paid"
