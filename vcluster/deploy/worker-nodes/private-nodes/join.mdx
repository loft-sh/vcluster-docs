---
title: Join Private Nodes
sidebar_label: Join
sidebar_position: 2
---

import PrivateNodesJoin from '../../../_fragments/privateNodes/joinNode.mdx'
import PrivateNodesFlags from '../../../_fragments/privateNodes/joinScriptFlags.mdx'

### Join worker nodes to the virtual cluster

<PrivateNodesJoin />

The output provides a command to run on your worker node:

```bash title="Example output from creating a token"
curl -sfLk https://<vcluster-endpoint>/node/join?token=<token> | sh -
```

For each worker node that you want to join vCluster, run the command on the worker node.

```bash title="Example output on worker node"
Preparing node for Kubernetes installation...
Kubernetes version: v1.31.2
Installing Kubernetes binaries...
Enabling containerd and kubelet...
Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /etc/systemd/system/containerd.service.
Created symlink /etc/systemd/system/multi-user.target.wants/kubelet.service → /etc/systemd/system/kubelet.service.
Starting containerd and kubelet...
Installation successful!
Joining node into cluster...
[preflight] Running pre-flight checks
[preflight] Reading configuration from the cluster...
[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
[kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
[kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
[kubelet-start] Starting the kubelet
[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...

This node has joined the cluster:
* Certificate signing request was sent to apiserver and a response was received.
* The kubelet was informed of the new secure connection details.

Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
```


:::tip Tip for Air-Gapped installation
`vcluster token create` returns a curl command to download the installation script, and that script may in turn require some
network access to, for instance, install `conntrack` if its not already installed.  For this reason a new private node that
is air-gapped should either be allowed network access temporarily during setup, or the relevant pieces like conntrack and the
kubernetes bundle should already be installed.  You can use the `--bundle-path` argument documented above to point to
pre-installed kubernetes resources.
:::

## Available flags to use in the script to join nodes

<PrivateNodesFlags/>
