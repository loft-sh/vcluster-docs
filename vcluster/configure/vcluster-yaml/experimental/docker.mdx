---
title: vCluster in Docker (vind)
sidebar_label: docker
sidebar_position: 8
sidebar_class_name: standalone
toc_max_heading_level: 3
description: Start vCluster in Docker
---

import DockerConfig from '../../../_partials/config/experimental/docker.mdx';
import InterpolatedCodeBlock from '@site/src/components/InterpolatedCodeBlock';

vCluster in Docker (vind) allows you to run virtual Kubernetes clusters directly in Docker containers instead of deploying them to an existing Kubernetes cluster. This provides a lightweight, isolated environment perfect for development, testing, and CI/CD scenarios.

## Overview

**What is vind?**
vind creates a complete Kubernetes cluster that runs entirely within Docker containers on your local machine or any Docker-enabled environment. Each vCluster instance gets its own set of containers that simulate Kubernetes nodes, providing full cluster functionality without requiring a host Kubernetes cluster.

**Why use vind?**
- **Local Development**: Quickly spin up isolated Kubernetes environments for development and testing
- **Pull through cache**: No `kind load docker-image` or importing of images needed. vind uses your local docker daemon to pull images
- **Automatic load balancers**: Kubernetes LoadBalancer services work out of the box and are reachable locally as well as within the cluster
- **External nodes**: Use [vCluster VPN](../private-nodes/vpn.mdx) and the vCluster Platform to join external nodes into the vCluster
- **Isolation**: Complete separation between different vCluster instances
- **Portability**: Works consistently across different Docker environments

## How to use

### Prerequisites

- Docker installed and running
- vCluster CLI installed

### Basic Usage

First, configure vCluster to use the Docker driver:

<InterpolatedCodeBlock
  code="vcluster use driver docker"
  language="bash"
/>

Then create a vCluster with Docker-specific configuration:

<InterpolatedCodeBlock
  code="vcluster create [[VAR:VCLUSTER_NAME:my-vcluster]] --values values.yaml"
  language="bash"
/>

### Configuration Options

The `experimental.docker` section in your vCluster configuration allows you to customize various Docker-specific settings:

#### Container Customization
- **Image**: Specify custom container images for the vCluster nodes
- **Ports**: Expose additional ports from the containers to the host
- **Volumes**: Mount host directories or Docker volumes into the containers
- **Environment Variables**: Set custom environment variables in the containers
- **Docker Arguments**: Pass additional arguments to the Docker run command

#### Multi-Node Setup
- **Additional Nodes**: Configure multiple worker nodes for your vCluster
- **Node-Specific Settings**: Customize individual nodes with different images, ports, or volumes

#### Advanced Features
- **Registry Proxy**: Enable pull-through caching to reuse images from the host Docker daemon
- **Load Balancer**: Configure automatic load balancer services (may require elevated privileges on some platforms)
- **Custom Networks**: Specify Docker networks for inter-container communication

## Examples

### Basic vCluster with Extra Ports

<InterpolatedCodeBlock
  code={`experimental:
    docker:
      ports:
        - "8080:80"
        - "8443:443"
      env:
        - "DEBUG=true"
        - "LOG_LEVEL=info"`}
  language="yaml"
/>

### Multi-Node vCluster

<InterpolatedCodeBlock
  code={`experimental:
    docker:
      nodes:
      - name: "worker-1"
        ports:
          - "9090:9090"
      - name: "worker-2"
        volumes:
          - "/host/data:/data"
        env:
          - "NODE_ROLE=worker"`}
  language="yaml"
/>


### Use vCluster VPN

<InterpolatedCodeBlock
  code={`experimental:
    docker:
      nodes:
      - name: my-node
  privateNodes:
    vpn:
      enabled: true
      nodeToNode:
        enabled: true`}
  language="yaml"
/>

### Setup with Volume Mounts

<InterpolatedCodeBlock
  code={`experimental:
    docker:
      volumes:
      - "/home/user/projects:/workspace"`}
  language="yaml"
/>

### Disable Registry Proxy and Load Balancer

<InterpolatedCodeBlock
  code={`experimental:
    docker:
      registryProxy:
        enabled: false
      loadBalancer:
        enabled: false`}
  language="yaml"
/>


## Config reference

<DockerConfig/>