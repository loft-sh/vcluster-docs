---
title: Embedded etcd
sidebar_label: embedded
sidebar_position: 2
sidebar_class_name: pro
description: Configure an embedded etcd instance as the virtual cluster's backing store.
---

import ConfigReference from '../../../../../../_partials/config/controlPlane/backingStore/etcd/embedded.mdx'
import ProAdmonition from '../../../../../../_partials/admonitions/pro-admonition.mdx'

<ProAdmonition/>

etcd is deployed with vCluster to reduce the overall footprint while still providing the advantages of etcd.

You can migrate from an external etcd instance to the embedded one by configuring `migrateFromDeployedEtcd: true` as shown below. However, by default, `enabled` is set to `false`, and `migrateFromDeployedEtcd` is also set to `false`.



```yaml
controlPlane:
  backingStore:
    etcd:
      embedded:
        enabled: true 
        migrateFromDeployedEtcd: true 
```

:::warning
After deploying your vCluster, changing the backing store of vCluster is not supported.
:::

## Config reference

<ConfigReference/>